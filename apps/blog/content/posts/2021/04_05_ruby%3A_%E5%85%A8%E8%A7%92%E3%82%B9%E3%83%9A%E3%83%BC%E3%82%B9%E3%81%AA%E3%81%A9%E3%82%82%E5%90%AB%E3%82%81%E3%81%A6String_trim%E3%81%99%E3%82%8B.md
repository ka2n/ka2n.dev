---
title: "ruby: 全角スペースなども含めてString.trimする"
date: 2021-04-05T06:24:07.000Z
id: "26006613712657291"
draft: false
---
終端の空白や改行を削除するために`String.trim`を使うことがあると思いますが、これには全角スペースは含まれません。POSIX文字クラスには便利は`[:space:]`というものがあるのでこれを使うと良いです。


```ruby
def strip(input)
  input.gsub(/[[:space:]]+\z/)
end

```

`\z`を使わずに`$`を使うと行末になってしまい、途中に改行が含まれている場合にも置換されてしまうので注意。
あるよね、謎の大量の空白。
